<!doctype html><html lang='en'><head><title>OfflineProcess | SuperCollider 3.12.1 Help</title>
<link rel='stylesheet' href='./scdoc.css' type='text/css' />
<link rel='stylesheet' href='./codemirror.css' type='text/css' />
<link rel='stylesheet' href='./editor.css' type='text/css' />
<link rel='stylesheet' href='./frontend.css' type='text/css' />
<link rel='stylesheet' href='./custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./lib/jquery.min.js'></script>
<script src='./lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = '.';
var scdoc_title = 'OfflineProcess';
var scdoc_sc_version = '3.12.1';
</script>
<script src='./scdoc.js' type='text/javascript'></script>
<script src='./docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>OfflineProcess:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-putAr'>putAr</a> </li>
<li class='toc3'><a href='#-putKr'>putKr</a> </li>
<li class='toc3'><a href='#-putTr'>putTr</a> </li>
<li class='toc3'><a href='#-process'>process</a> </li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>OfflineProcess (extension)</span>
 | <span id='categories'><a href='.\Browse.html#Uncategorized'>Uncategorized</a></span>
</div><h1>OfflineProcess<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>Class to enable easy offline processing and analysis of audio files.</div>
</div>
<div class='subheader'>
<div id='related'>See also: <a href=".\Classes/Score.html">Score</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p><a href=".\Classes/OfflineProcess.html">OfflineProcess</a> describes a collection of SynthDef-style processes that can be applied to an audio file.<h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-putAr' href='./Overviews/Methods.html#putAr'>putAr</a></h3>
<div class='method'>
<p>Add a audio rate process.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>name<td class='argumentdesc'>
<p>A <a href=".\Classes/Symbol.html">Symbol</a>, the name of the operation. Names must be unique.<tr><td class='argumentname'>function<td class='argumentdesc'>
<p>A SynthDef-style function of the form <code>{ |input, time| }</code>, where input is the audio input, and time is the running time, in seconds. Output of the function must be a Ar <a href=".\Classes/UGen.html">UGen</a>.
<p>Adds the synthdef to the <a href=".\Classes/SynthDescLib.html">SynthDescLib</a> specified by libname, and sends it to the library's servers. No defFile is written; all operations take place in memory.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-putKr' href='./Overviews/Methods.html#putKr'>putKr</a></h3>
<div class='method'>
<p>Add a control rate process.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>name<td class='argumentdesc'>
<p>A <a href=".\Classes/Symbol.html">Symbol</a>, the name of the operation. Names must be unique.<tr><td class='argumentname'>function<td class='argumentdesc'>
<p>A SynthDef-style function of the form <code>{ |input, time| }</code>, where input is the audio input, and time is the running time, in seconds. Output of the function must be a Kr <a href=".\Classes/UGen.html">UGen</a>.
<p>Adds the synthdef to the <a href=".\Classes/SynthDescLib.html">SynthDescLib</a> specified by libname, and sends it to the library's servers. No defFile is written; all operations take place in memory.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-putTr' href='./Overviews/Methods.html#putTr'>putTr</a></h3>
<div class='method'>
<p>Add a triggered process. These processes will ONLY store values when they are triggered. Unlike Ar and Kr versions, output of the function should be of the form <code>[trigger, [values...]]</code>. The values in <code>values</code> will be stored once for each time <code>trigger</code> changes from zero to non-zero. For example, the following function would record the amplitude in the input signal once per second.<textarea class='editor'>{
    |sig|
    var trigger, amp;
    trigger = Impulse.kr(1);
    amp = Amplitude.kr(sig);
    [trigger, [amp]]
}</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>name<td class='argumentdesc'>
<p>A <a href=".\Classes/Symbol.html">Symbol</a>, the name of the operation. Names must be unique.<tr><td class='argumentname'>function<td class='argumentdesc'>
<p>A SynthDef-style function of the form <code>{ |input, time| }</code>, where input is the audio input, and time is the running time, in seconds. Output of the function must be of the form <code>[trigger, [values...]]</code>, as described above.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-process' href='./Overviews/Methods.html#process'>process</a></h3>
<div class='method'>
<p>Run the collected processes on an input file. Returns an <a href=".\Classes/OfflineProcessRun.html">OfflineProcessRun</a> representing the run.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>file<td class='argumentdesc'>
<p>Path to an input file.</table></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<textarea class='editor'>(
~inFile = "/Users/fsc/Downloads/STE-039 a.wav";

~proc = OfflineProcess();

// Audio-rate process - produces an audio file of equal length to the input
~proc.putAr(\compress, {
    |input|
    Compander.ar(input, input, 0.2, 1, 1 / 30);
});

// Control-rate process - produces an audio file of control-rate signal
~proc.putAr(\amplitude, {
    |input|
    Amplitude.kr(input);
});

// Triggered process. Output should be of the form [trigger, [a, b, c....]]
// Whenever the value at trigger crosses from non-positive to positive, the subsequent values (i.e. a, b, c)
// are recorded.
~proc.putTrig(\peaks, {
    |input, time, delay=10|
    var amp, peakAmp, reset, peakTime, timeSincePeak, newPeak, recordTrig;

    reset = LocalIn.kr(1);

    amp = Amplitude.kr(input);
    peakAmp = RunningMax.kr(amp, reset);
    newPeak = Changed.kr(peakAmp);
    Poll.kr(newPeak, peakAmp, "peak");
    peakTime = Latch.kr(time, newPeak);
    timeSincePeak = Sweep.kr(newPeak);
    recordTrig = Trig.kr((timeSincePeak &gt; delay), 0.001);

    LocalOut.kr(recordTrig);

    [recordTrig, [peakTime, peakAmp]]
});

~proc.outputPath = "~/Desktop/".standardizePath;

~run1 = ~proc.process(~inFile);
)

// Get results:
~run1.resultFile(\compress).postln;

~run1.resultFile(\amplitude).postln;

~run1.resultData(\peaks).postln;</textarea>
<div class='doclink'>helpfile source: <a href='file:///C:/Users/f11mi/AppData/Local/SuperCollider/downloaded-quarks/OfflineProcess/HelpSource/OfflineProcess.schelp'>C:\Users\f11mi\AppData\Local\SuperCollider\downloaded-quarks\OfflineProcess\HelpSource\OfflineProcess.schelp</a><br>link::OfflineProcess::<br></div></div><script src='./editor.js' type='text/javascript'></script>
</body></html>